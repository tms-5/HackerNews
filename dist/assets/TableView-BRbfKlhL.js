import{d as h,r as g,o as n,c,a as d,b as _,t as w,n as f,e as v,f as C,F as y,g as m,h as $,i as U,j,m as N,k as x,w as B,v as D,l as k,p as M,q,s as b,u as S,x as R,y as F,z as V,A as G}from"./index-ChyuIwED.js";import{_ as p,T as A}from"./enum--DImcrnD.js";const I=h({props:{label:{type:String,required:!0},isActive:{type:Boolean,default:!1},tab:{type:Object,required:!0},click:{type:Function,required:!0},index:{type:Number,required:!0}},setup(){const e=g(0);return{changeNumber:o=>{e.value=o},elementsNumber:e}}}),X={class:"rows-quantity"};function E(e,s,o,l,i,r){return n(),c(y,null,[d("div",{class:f(["tab-title d-flex",e.isActive?"active":""]),onClick:s[0]||(s[0]=t=>e.click(e.index))},[_(w(e.tab.label)+" ",1),d("div",X,w(e.elementsNumber),1)],2),d("div",{class:f(["tab-content",e.isActive?"active":""])},[(n(),v(C(e.tab.component),{onChangeNumber:e.changeNumber},null,40,["onChangeNumber"]))],2)],64)}const Q=p(I,[["render",E]]),Y=h({name:"TabsContainer",components:{SubTab:Q},props:{tabs:{type:Array,required:!0}},setup(){const e=g(0);return{selectedTab:e,handleClick:o=>{e.value=o}}}}),K={class:"tabs-container"};function Z(e,s,o,l,i,r){const t=m("SubTab");return n(),c("div",K,[(n(!0),c(y,null,$(e.tabs,(a,u)=>(n(),v(t,{tab:a,key:u,index:u,click:e.handleClick,label:a.label,isActive:e.selectedTab===u},null,8,["tab","index","click","label","isActive"]))),128))])}const P=p(Y,[["render",Z]]),J=h({name:"TableHeader",props:{headers:{type:Array,required:!0},toggleSort:{type:Function,required:!0},sortState:{type:Object,required:!0}},setup(e){return{sortClass:l=>e.sortState.key===l.key&&e.sortState.order!==0?"active-sortable":"",sortSymbol:l=>e.sortState.key===l.key?e.sortState.order===1?"↑":e.sortState.order===-1?"↓":"↑↓":"↑↓"}}}),W={class:"d-flex data-table-header"},ee=["onClick"];function te(e,s,o,l,i,r){return n(),c("div",W,[(n(!0),c(y,null,$(e.headers,t=>(n(),c("div",{key:t.key,onClick:a=>t.sortable?e.toggleSort(t.key):null,class:f(["table-header d-flex align-center data-table-col","size-"+t.size])},[_(w(t.label)+" ",1),t.sortable?(n(),c("span",{key:0,class:f(["ml-1 table-header-sortable",e.sortClass(t)])},w(e.sortSymbol(t)),3)):U("",!0)],10,ee))),128))])}const se=p(J,[["render",te]]),oe=h({name:"TableRow",props:{row:{type:Object,required:!0},headers:{type:Array,required:!0}},methods:{isComponent(e){return e&&typeof e=="object"&&e.component}}}),ae={class:"data-table-line d-flex"},ne=["title"];function re(e,s,o,l,i,r){return n(),c("div",ae,[(n(!0),c(y,null,$(e.headers,t=>(n(),c("div",{key:t.key,class:f(["data-table-col","size-"+t.size])},[e.isComponent(e.row[t.key])?(n(),v(C(e.row[t.key].component),j(N({key:0},e.row[t.key].props)),null,16)):(n(),c("span",{key:1,title:e.row[t.key]},w(e.row[t.key]!==void 0?e.row[t.key]:""),9,ne))],2))),128))])}const le=p(oe,[["render",re]]),ie={props:{size:{type:String,default:"medium",validator:e=>["big","medium","small"].includes(e)}}},ce={class:"loading"},de=x('<div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div><div class="bar7"></div><div class="bar8"></div><div class="bar9"></div><div class="bar10"></div><div class="bar11"></div><div class="bar12"></div>',12),ue=[de];function pe(e,s,o,l,i,r){return n(),c("div",ce,[d("div",{class:f(["loading-spinner",o.size]),role:"spinbutton"},ue,2)])}const me=p(ie,[["render",pe]]),he=h({name:"TableBody",components:{TableRow:le,Loading:me},props:{rows:{type:Array,default:void 0},headers:{type:Array,required:!0}}}),ve={class:"data-table-body"};function be(e,s,o,l,i,r){const t=m("Loading"),a=m("TableRow");return n(),c("div",ve,[e.rows?(n(!0),c(y,{key:1},$(e.rows,(u,L)=>(n(),v(a,{key:L,row:u,headers:e.headers},null,8,["row","headers"]))),128)):(n(),v(t,{key:0}))])}const ge=p(he,[["render",be]]),we="data:image/svg+xml,%3csvg%20width='8'%20height='8'%20viewBox='0%200%208%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.46983%206.65995L6.87987%202.48996C7.30986%201.74996%206.76984%200.829956%205.91984%200.829956H1.10985C0.259845%200.829956%20-0.270115%201.74996%200.149885%202.48996L2.55986%206.65995C2.98986%207.39995%204.04983%207.39995%204.46983%206.65995Z'%20fill='%233A4C5E'/%3e%3c/svg%3e",fe=h({name:"SelectComponent",props:{label:{type:String,required:!1},options:{type:Array,required:!0},value:{type:String,default:""},placeholder:{type:String,default:"Select an option"}},emits:["onChange"],setup(e,{emit:s}){const o=g(!1),l=g(e.value),i=g(e.placeholder);return{selectedValue:l,updateValue:(a,u)=>{l.value=a,i.value=u,s("onChange",a)},showOptions:o,toggleOptions:()=>{o.value=!o.value},selectedLabel:i,arrow:we}}}),ye={class:"select-component d-flex align-center"},$e={for:"select",class:"mr-1"},ke={class:"select-field"},Ae=["src"],_e={class:"select-options p-absolute w-100"},Ce=["value","onClick"];function Se(e,s,o,l,i,r){return n(),c("div",ye,[d("span",$e,w(e.label),1),d("div",{class:"p-relative select-input c-pointer",onClick:s[0]||(s[0]=(...t)=>e.toggleOptions&&e.toggleOptions(...t))},[d("div",{class:f(["d-flex justify-s-b",e.selectedValue===""?"placeholder":""])},[d("div",ke,w(e.selectedLabel),1),d("img",{src:e.arrow,alt:"arrow",width:"12",class:"p-absolute"},null,8,Ae)],2),d("div",_e,[(n(!0),c(y,null,$(e.options,t=>B((n(),c("div",{key:t.value,value:t.value,class:"select-option d-grid",onClick:a=>e.updateValue(t.value,t.label)},w(t.label),9,Ce)),[[D,e.showOptions]])),128))])])])}const Te=p(fe,[["render",Se]]),ze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='50.022'%20height='50.022'%20viewBox='0%200%20512%20512'%3e%3cimage%20id='Camada_1'%20data-name='Camada%201'%20width='512'%20height='512'%20xlink:href='data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAADrklEQVRogdWaS2xNQRjHf2494i2lId5v4hmPxGNBgrDABpGKhURYeGxIJGXhscBGihARVBe6ICQeK5ZSGoREERLaoggl1Fs0oTIM+fI559xzzp1z7+0/OUnn3Pm+7/+fmTPzzUxbkRmmAzOBMcBgoBdQCBi/H4CXwFPgPlAJXAW+ZRjTGQzpPUAd0BzxaQCO2gbIGUYBZ2KQ93suAzNciQk7tHYAW31+uwdcAx4CNUCjfd8ZGAIMBSYDU3zsy4B1wPcY/EOjL1Dl0aK1QAkwNoIvI2otcNPDX02Sw8204jsV0LT2+gg96Ydi4JGHoEWuRUzwCHLKzkiuYBqj1CNOsasAfewUKZ1vcShAo9hDzDQXjh8op6uc0vbGHBXzE9A1E4d7lcOSBMlrLFCxL8d1NFo5Op0YZX9sVxyWxHFyXTjIZRohh/arqMbjVEusTIZjKIxXXJZHMS4Xhs9yp+EfKgWfO2GN2gGfheGG5HmmxULVK8PCGM1VRv1zq+EfZFaxOV3lFDBblM2+oT55jqFwUVRKu0AaISNF+UpuOHvihng5KF1lI2SAKNdmh2MoVItKZufZJsjICOktyk9zx/s/vBEvTLJaFFTZCGkvyh+zwzEUmhTPjkFGpsIPUQ7sviwjJcKlzTZSYmtq0DOPhMge+Aq8D6qcUt/F4OR4RcYQYfDaLtq+MEKeiB9H55GQSeLv5+kqp9R8PdumLPmAWYLD3TB8BqoUZVYIm6TRT3GaHzZetTA6kwdCdgs+ZkkoCGu4WrVA7xA2SaJRcDkQJU5re9L31/hSDkXsVI3aJ6qDzcrBvGR4BmKo4nA8rqNnwkmTTdayCXnCbzKOLnFjT/Q4422bJSFm/yFjL83U4SYl5jbQ3Q1XX1xQMfe7cnxEOX4BTHXP//cads1jFDjFCY8z2R12hnOBtTYZ1DG+ANtci9nlEajOXi0E7g8CUOxzR/JTlUtdi1kMvPUIbDLSCmAFMMInRyuww8f4OBxw77jM1nus3h90LcZ87Md8SPx9Guyx6yU7A1XZrDXI5rw6/CiypziyziHXYrD3gOUqC4jznA5YcIvsBy/9Hk1CDDYXWwOcs4cE6cQ02l7aqDZMfij0EFMWZJDpXaBBB5taDLJ5UQ/74Tbaabve3hd+iui3mx2qw8W7sixdPDlHJ3v6KXumoiUKwU7zero+mQe8YqGN2vw15+hGzQlM8npLiTnbUsUU2MMSKeZCHvCKhZTHv5W02GFmYK5ApJgWjT8LMuz7Bc4EjR/Fkla5AAAAAElFTkSuQmCC'/%3e%3c/svg%3e",Be=h({name:"TableSearch",components:{SelectComponent:Te},props:{value:{type:Object,default:()=>({key:"",text:""})},headers:{type:Array,required:!0}},emits:["update:value","onChange"],setup(e){const s=g(e.value.key),o=g(e.value.text),l=e.headers.map(r=>({label:r.label,value:r.key}));return{selectedHeader:s,searchText:o,search:ze,options:l,changeHeader:r=>{s.value=r}}}}),Fe={class:"table-search d-flex"},Oe={class:"p-relative d-flex align-center ml-1r"},He=["src"];function Le(e,s,o,l,i,r){const t=m("SelectComponent");return n(),c("div",Fe,[k(t,{options:e.options,placeholder:"Select a option to filter",modelValue:e.selectedHeader,"onUpdate:modelValue":s[0]||(s[0]=a=>e.selectedHeader=a),onOnChange:e.changeHeader},null,8,["options","modelValue","onOnChange"]),d("form",Oe,[d("img",{src:e.search,alt:"search",width:"13",class:"p-absolute pl-1"},null,8,He),B(d("input",{class:"search-input b-none",type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>e.searchText=a),onInput:s[2]||(s[2]=a=>e.$emit("update:value",{key:e.selectedHeader,text:e.searchText})),"aria-label":"Filter projects",placeholder:"Filter projects..."},null,544),[[M,e.searchText]])])])}const Ue=p(Be,[["render",Le]]),je=h({name:"DataTable",components:{TableSearch:Ue,TableHeader:se,TableBody:ge},props:{rows:{type:Array,default:void 0},headers:{type:Array,required:!0}},setup(e){const s=q({key:"",order:0}),o=g({key:"",text:""}),l=b(()=>{if(!e.rows)return;let t=[...e.rows];return s.order!==0&&s.key&&t.sort((a,u)=>a[s.key]<u[s.key]?s.order*-1:a[s.key]>u[s.key]?s.order:0),o.value.text.trim()&&o.value.key&&(t=t.filter(a=>{var u;return(u=a[o.value.key])==null?void 0:u.toString().toLowerCase().includes(o.value.text.toLowerCase())})),t});function i(t){s.key===t?s.order=s.order===1?-1:s.order===-1?0:1:(s.key=t,s.order=1)}function r(t){o.value=t}return{toggleSort:i,sortedAndFilteredRows:l,sortState:s,searchValue:o,handleSearch:r}}}),Ne={class:"mt-1r data-table w-100"};function xe(e,s,o,l,i,r){const t=m("TableSearch"),a=m("TableHeader"),u=m("TableBody");return n(),c(y,null,[k(t,{value:e.searchValue,headers:e.headers,"onUpdate:value":e.handleSearch},null,8,["value","headers","onUpdate:value"]),d("div",Ne,[k(a,{headers:e.headers,sortState:e.sortState,toggleSort:e.toggleSort},null,8,["headers","sortState","toggleSort"]),k(u,{rows:e.sortedAndFilteredRows,headers:e.headers},null,8,["rows","headers"])])],64)}const De=p(je,[["render",xe]]),Me=h({setup(){return{headers:[{key:"position",label:"Posição",sortable:!0,size:A.XSMALL},{key:"title",label:"Título",sortable:!0,size:A.LARGE},{key:"by",label:"Usuário",sortable:!0,size:A.SMALL},{key:"actions",label:"Ações",sortable:!1,size:A.MEDIUM}]}},props:{rows:{type:Array,default:void 0}},components:{DataTable:De}});function qe(e,s,o,l,i,r){const t=m("DataTable");return n(),v(t,{rows:e.rows,headers:e.headers},null,8,["rows","headers"])}const O=p(Me,[["render",qe]]),Re={},Ve={class:"heart-svg filled",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800",style:{"enable-background":"new 0 0 800 800"},"xml:space":"preserve"},Ge=d("path",{class:"heart-fill",d:`M735.4,113.6C693.5,71.7,638,48.8,578.8,48.8s-114.8,23.1-156.7,65l-21.9,21.9L378,113.5c-41.9-41.9-97.7-65.1-156.9-65.1\r
    c-59,0-114.6,23.1-156.4,64.8C22.9,155-0.2,210.6,0,269.8C0,329,23.2,384.5,65.1,426.4l318.5,318.5c4.4,4.4,10.3,6.8,16.1,6.8\r
    s11.7-2.2,16.1-6.6l319.2-318c41.9-41.9,65-97.5,65-156.7C800.2,211.2,777.3,155.5,735.4,113.6z`},null,-1),Ie=[Ge];function Xe(e,s){return n(),c("svg",Ve,Ie)}const Ee=p(Re,[["render",Xe]]),Qe={},Ye={class:"heart-svg outlined",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 800 800",style:{"enable-background":"new 0 0 800 800"},"xml:space":"preserve"},Ke=d("path",{class:"heart-fill-outline",d:`M735.4,113.6C693.5,71.7,638,48.8,578.8,48.8s-114.8,23.1-156.7,65l-21.9,21.9L378,113.5c-41.9-41.9-97.7-65.1-156.9-65.1\r
    c-59,0-114.6,23.1-156.4,64.8C22.9,155-0.2,210.6,0,269.8C0,329,23.2,384.5,65.1,426.4l318.5,318.5c4.4,4.4,10.3,6.8,16.1,6.8\r
    s11.7-2.2,16.1-6.6l319.2-318c41.9-41.9,65-97.5,65-156.7C800.2,211.2,777.3,155.5,735.4,113.6z`},null,-1),Ze=d("path",{class:"heart-outline",d:`M735.4,113.6C693.5,71.7,638,48.8,578.8,48.8c-59.2,0-114.8,23.1-156.7,65l-21.9,21.9L378,113.5\r
    c-41.9-41.9-97.7-65.1-156.9-65.1c-59,0-114.6,23.1-156.4,64.8C22.9,155-0.2,210.6,0,269.8C0,329,23.2,384.5,65.1,426.4l318.5,318.5\r
    c4.4,4.4,10.3,6.8,16.1,6.8c5.8,0,11.7-2.2,16.1-6.6l319.2-318c41.9-41.9,65-97.5,65-156.7C800.2,211.2,777.3,155.5,735.4,113.6z\r
     M702.8,394.7L399.7,696.5L97.4,394.1c-33.2-33.2-51.6-77.3-51.6-124.3s18.1-91.1,51.4-124.1c33.1-33.1,77.2-51.4,124-51.4\r
    c47,0,91.2,18.3,124.5,51.6l38.3,38.3c9,9,23.4,9,32.4,0l38-38c33.2-33.2,77.5-51.6,124.3-51.6c46.8,0,90.9,18.3,124.1,51.4\r
    c33.2,33.2,51.4,77.3,51.4,124.3C754.4,317.3,736.1,361.4,702.8,394.7z`},null,-1),Pe=[Ke,Ze];function Je(e,s){return n(),c("svg",Ye,Pe)}const We=p(Qe,[["render",Je]]),et="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='13.005'%20height='13.005'%20viewBox='0%200%20512%20512'%3e%3cimage%20id='Camada_1'%20data-name='Camada%201'%20x='105'%20width='302'%20height='512'%20xlink:href='data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAANCAYAAACUwi84AAAAg0lEQVQYlXXQMQvBQRjA4aeUwedQDBZlUDaL0fT/iCarkizKYjD5AEYfQElJSL3qOndXN/2ee7teWOGJrso54Y0r+iXSxjHQHcPapH2gF8Y1tA30vdMaWiZoXgIdXAKcS2CRTGjyuE7iLI+7JE7S0MIhwgOj/OVvkzcMSp/aBOj9FXwANqckJ1T4Mq8AAAAASUVORK5CYII='/%3e%3c/svg%3e",tt=h({name:"TableHackerNewsActions",components:{FilledHeart:Ee,OutlinedHeart:We},props:{story:{type:Object,required:!0}},setup(e){const s=S(),o=R(),l=b(()=>s.getters["hackerNews/getFavorites"]),i=b(()=>l.value.includes(e.story.id));function r(a){o&&o.push({name:"story",params:{id:a}})}function t(a){i.value?s.dispatch("hackerNews/removeFromFavorites",a.id):s.dispatch("hackerNews/addToFavorites",a.id)}return{navigateToStory:r,toggleFavorite:t,favoritedStory:i,arrow:et}}}),st={class:"actions d-flex align-center gap-1"},ot=["src"];function at(e,s,o,l,i,r){const t=m("FilledHeart"),a=m("OutlinedHeart");return n(),c("div",st,[d("div",{class:"heart",onClick:s[0]||(s[0]=u=>e.toggleFavorite(e.story))},[e.favoritedStory?(n(),v(t,{key:0})):(n(),v(a,{key:1}))]),d("button",{onClick:s[1]||(s[1]=u=>e.navigateToStory(e.story.id)),class:"b-none bg-transparent c-pointer data-table-button-details d-flex align-center justify-content-center"},[_(" Details "),d("img",{src:e.arrow,alt:"Right arrow",width:"8"},null,8,ot)])])}const H=p(tt,[["render",at]]),nt=h({emits:["change-number"],setup(e,{emit:s}){const o=S(),l=b(()=>o.getters["hackerNews/getAllStories"]),i=b(()=>{var r;return((r=l.value)==null?void 0:r.map((t,a)=>({...t,position:a+1,actions:{component:H,props:{story:t}}})))??void 0});return F(i,r=>{s("change-number",r.length??0)}),{rows:i}},components:{TableSkeleton:O}});function rt(e,s,o,l,i,r){const t=m("TableSkeleton");return n(),v(t,{rows:e.rows},null,8,["rows"])}const T=p(nt,[["render",rt]]),lt=h({emits:["change-number"],setup(e,{emit:s}){const o=S(),l=b(()=>o.getters["hackerNews/getAllStories"]),i=b(()=>o.getters["hackerNews/getFavorites"]),r=b(()=>{var t;return((t=l.value)==null?void 0:t.filter(a=>i.value.includes(a.id)).map(a=>({...a,actions:{component:H,props:{story:a}}})))??[]});return F(r,t=>{s("change-number",t.length)}),{rows:r}},components:{TableSkeleton:O}});function it(e,s,o,l,i,r){const t=m("TableSkeleton");return n(),v(t,{rows:e.rows},null,8,["rows"])}const z=p(lt,[["render",it]]),ct=h({components:{TabsContainer:P,TableHackerNews:T,FavoritesHackerNews:z},setup(){return{tabs:b(()=>[{label:"All stories",name:"stories",component:T},{label:"Favorites",name:"favorites",component:z}])}}});function dt(e,s,o,l,i,r){const t=m("TabsContainer");return n(),c("main",null,[k(t,{tabs:e.tabs},V({_:2},[$(e.tabs,a=>({name:a.name,fn:G(()=>[(n(),v(C(a.component)))])}))]),1032,["tabs"])])}const mt=p(ct,[["render",dt]]);export{mt as default};
